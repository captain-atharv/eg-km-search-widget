<html>
<head>
<title>Sample CRM From With Search Widget</title>
<link rel="stylesheet" href="search-widget.css"></link>
</head>
<body>
	<div class="sample-page-container">
		<div class="form-container">
			<div class="form-header"> 
				<h1>Case Details</h1>
			</div>
			<form action="">
			<div class="inline-input-group">
				<div class="form-input">
					<label for="case_number">Case Number:</label><br>
					<input type="text" id="case_number" name="case_number" value="EG123000456">			
				</div>
				<div class="form-input">
					<label for="case_owner">Case Owner:</label><br>
					<input type="text" id="case_owner" name="case_owner" value="Anil Kumar">			
				</div>
			</div>
			<div class="inline-input-group">
				<div class="form-input">
					<label for="case_status">Status:</label><br>
					<select id="case_status" name="case_status">
					  <option value="new" selected>New</option>
					  <option value="assigned">Assigned</option>
					  <option value="inprogress">In Progress</option>
					  <option value="onhold">on Hold</option>
					  <option value="closed">Closed</option>
					</select>				
				</div>
				<div class="form-input">
					<label for="case_priority">Priority:</label><br>
					<select id="case_priority" name="case_priority">
					  <option value="p1">P1</option>
					  <option value="p2" selected>P2</option>
					  <option value="p3">P3</option>
					  <option value="p4">P4</option>				  
					</select>			
				</div>
			</div>
			<div class="form-input">
					<label for="case_subject">Short Description:</label><br>
					<input type="text" id="case_subject" name="case_subject" value="Payment Status">			
			</div>
			<div class="form-input">
				<label for="case_desc">Description:</label><br>
				<textarea id="case_desc" name="case_desc" rows="5" >Please let me know the status of my payment?</textarea>		
			</div>
			
			</form>
		</div>
		<div class="sample-widget-container">		
			<div id="eg-search-widget-id"
			 data-egain-role="search-widget"
			 data-egain-portal-id="your_kb_portal_id"
			 data-egain-template-name="silver"
			 data-egain-locale="en-US"
			 data-egain-b2c-host="your_egain_b2c_host"
			 data-egain-domain-hint="your_egain_domain_hint"
			 >
			</div>
		</div>
	</div>
<script type="text/javascript" src="./egain-ui-search-widget.min.js"></script>
<script>
	var launchWidget =  function(searchTerm){
		var searchTerm = eGainUI("#case_subject").val();
		if(searchTerm && searchTerm.trim() !== '')
		eGainUI('#eg-search-widget-id').SearchWidget(searchTerm, function () {
            //Code to be executed once the widget is successfully loaded
			eGainUI('#eg-search-widget-id h1').html("Search Results for " + searchTerm);
        });
	};
	 eGainUI(document).ready(function () {
       launchWidget();
    });
	eGainUI("#case_subject").change(function(){
		launchWidget();
	});
	
</script>
</body>
</html>